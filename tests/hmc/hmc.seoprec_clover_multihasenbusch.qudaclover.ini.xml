<?xml version="1.0"?>
<Params>
  <MCControl>
    <Cfg>
      <cfg_type>DISORDERED</cfg_type>
      <cfg_file>DUMMY</cfg_file>
      <parallel_io>false</parallel_io>
    </Cfg>
    <RNG>
      <Seed>
        <elem>2846</elem>
        <elem>1259</elem>
        <elem>980</elem>
        <elem>108</elem>
      </Seed>
    </RNG>
    <StartUpdateNum>0</StartUpdateNum>
    <NWarmUpUpdates>0</NWarmUpUpdates>
    <NProductionUpdates>5</NProductionUpdates>
    <NUpdatesThisRun>5</NUpdatesThisRun>
    <SaveInterval>5</SaveInterval>
    <SavePrefix>dummy_run_multi</SavePrefix>
    <SaveVolfmt>SINGLEFILE</SaveVolfmt>
    <ParallelIO>false</ParallelIO>
    <ReproCheckP>false</ReproCheckP>
    <ReproCheckFrequency>20</ReproCheckFrequency>
    <ReverseCheckP>true</ReverseCheckP>
    <ReverseCheckFrequency>1</ReverseCheckFrequency>
    <MonitorForces>true</MonitorForces>
    <InlineMeasurements>
      <elem>
        <Name>PLAQUETTE</Name>
        <Frequency>1</Frequency>
        <Param>
          <version>2</version>
          <GaugeState>
            <Name>SIMPLE_GAUGE_STATE</Name>
            <GaugeBC>
              <Name>PERIODIC_GAUGEBC</Name>
            </GaugeBC>
          </GaugeState>
        </Param>
        <NamedObject>
          <gauge_id>default_gauge_field</gauge_id>
        </NamedObject>
      </elem>
    </InlineMeasurements>
  </MCControl>
  <HMCTrj>
    <nrow>4 4 4 4</nrow>
    <Monomials>
      <elem>
        <Name>N_FLAVOR_LOGDET_DIAG_FERM_MONOMIAL</Name>
        <FermionAction>
          <FermAct>SEOPREC_CLOVER</FermAct>
          <Mass>-0.0640</Mass>
          <clovCoeffR>1.58932722549812</clovCoeffR>
          <clovCoeffT>0.902783591772098</clovCoeffT>
          <AnisoParam>
            <anisoP>true</anisoP>
            <t_dir>3</t_dir>
            <xi_0>4.3</xi_0>
            <nu>1.265</nu>
          </AnisoParam>
          <FermState>
            <Name>STOUT_FERM_STATE</Name>
            <rho>0.14</rho>
            <n_smear>2</n_smear>
            <orthog_dir>3</orthog_dir>
            <FermionBC>
              <FermBC>SIMPLE_FERMBC</FermBC>
              <boundary>1 1 1 -1</boundary>
            </FermionBC>
          </FermState>
        </FermionAction>
        <num_flavors>2</num_flavors>
        <NamedObject>
          <monomial_id>HMC::logdet_2flav</monomial_id>
        </NamedObject>
      </elem>
	  <elem>
		<Name>TWO_FLAVOR_SEOPREC_CONSTDET_RATIO_CONV_CONV_MULTIHASEN_FERM_MONOMIAL</Name>
		<BaseTwist>0.0</BaseTwist>
        <FermionAction>
            <FermAct>SEOPREC_CLOVER</FermAct>
            <Mass>-0.0640</Mass>
            <clovCoeffR>1.58932722549812</clovCoeffR>
            <clovCoeffT>0.902783591772098</clovCoeffT>
            <AnisoParam>
              <anisoP>true</anisoP>
              <t_dir>3</t_dir>
              <xi_0>4.3</xi_0>
              <nu>1.265</nu>
            </AnisoParam>
            <FermState>
              <Name>STOUT_FERM_STATE</Name>
              <rho>0.14</rho>
              <n_smear>2</n_smear>
              <orthog_dir>3</orthog_dir>
              <FermionBC>
                <FermBC>SIMPLE_FERMBC</FermBC>
                <boundary>1 1 1 -1</boundary>
              </FermionBC>
            </FermState>
		</FermionAction>
		<InvertParam>
			<invType>MULTI_RHS_SEOPREC_TWISTED_PROXY_INVERTER</invType>
			<BlockSize>3</BlockSize>
			<Twists>0.001 0.002 0.003</Twists>
			<SubInvertParam>
				<invType>QUDA_CLOVER_INVERTER</invType>
				<CloverParams>
					<Mass>-0.0640</Mass>
					<clovCoeffR>1.58932722549812</clovCoeffR>
					<clovCoeffT>0.902783591772098</clovCoeffT>
					<TwistedM>666</TwistedM>
					<AnisoParam>
						<anisoP>true</anisoP>
						<t_dir>3</t_dir>
						<xi_0>4.3</xi_0>
						<nu>1.265</nu>
					</AnisoParam>
				</CloverParams>
				<RsdTarget>1.0e-7</RsdTarget>
				<Delta>1.0e-1</Delta>
				<Pipeline>0</Pipeline>
				<MaxIter>1000</MaxIter>
				<SolverType>CG</SolverType>
				<RsdToleranceFactor>10.0</RsdToleranceFactor>
				<AntiPeriodicT>true</AntiPeriodicT>
				<Verbose>false</Verbose>
				<AsymmetricLinop>false</AsymmetricLinop>
				<CudaReconstruct>RECONS_12</CudaReconstruct>
				<CudaSloppyPrecision>SINGLE</CudaSloppyPrecision>
				<CudaSloppyReconstruct>RECONS_12</CudaSloppyReconstruct>
				<AxialGaugeFix>false</AxialGaugeFix>
				<AutotuneDslash>true</AutotuneDslash>
				<SolutionCheckP>true</SolutionCheckP>
		</SubInvertParam>
		</InvertParam>
        <NamedObject>
          <monomial_id>HMC::has</monomial_id>
        </NamedObject>
	  </elem>
	  <elem>
		<Name>TWO_FLAVOR_SEOPREC_CONSTDET_MULTIHASEN_CANCEL_FERM_MONOMIAL</Name>
		<ShiftedMass>0.003</ShiftedMass>
		<FermionAction>
		<FermAct>SEOPREC_CLOVER</FermAct>
          <Mass>-0.0640</Mass>
          <clovCoeffR>1.58932722549812</clovCoeffR>
          <clovCoeffT>0.902783591772098</clovCoeffT>
          <AnisoParam>
            <anisoP>true</anisoP>
            <t_dir>3</t_dir>
            <xi_0>4.3</xi_0>
            <nu>1.265</nu>
          </AnisoParam>
          <FermState>
            <Name>STOUT_FERM_STATE</Name>
            <rho>0.14</rho>
            <n_smear>2</n_smear>
            <orthog_dir>3</orthog_dir>
            <FermionBC>
              <FermBC>SIMPLE_FERMBC</FermBC>
              <boundary>1 1 1 -1</boundary>
            </FermionBC>
          </FermState>
        </FermionAction>
		<InvertParam>
			<invType>CG_INVERTER</invType>
            <CloverParams>
              <Mass>-0.0640</Mass>
              <clovCoeffR>1.58932722549812</clovCoeffR>
              <clovCoeffT>0.902783591772098</clovCoeffT>
              <AnisoParam>
                <anisoP>true</anisoP>
                <t_dir>3</t_dir>
                <xi_0>4.3</xi_0>
                <nu>1.265</nu>
              </AnisoParam>
            </CloverParams>
			<RsdCG>1.0e-7</RsdCG>
			<MaxCG>1000</MaxCG>
		</InvertParam>
        <NamedObject>
          <monomial_id>HMC::has_cancel_2flav</monomial_id>
        </NamedObject>
	  </elem>
      <elem>
        <Name>GAUGE_MONOMIAL</Name>
        <GaugeAction>
          <Name>ANISO_SYM_SPATIAL_GAUGEACT</Name>
          <beta>1.5</beta>
          <u_s>0.73356648935927</u_s>
          <ZeroEnergy>0.0</ZeroEnergy>
          <AnisoParam>
            <anisoP>true</anisoP>
            <t_dir>3</t_dir>
            <xi_0>4.3</xi_0>
          </AnisoParam>
          <GaugeBC>
            <Name>PERIODIC_GAUGEBC</Name>
          </GaugeBC>
        </GaugeAction>
        <NamedObject>
          <monomial_id>HMC::gauge_s</monomial_id>
        </NamedObject>
      </elem>
      <elem>
        <Name>GAUGE_MONOMIAL</Name>
        <GaugeAction>
          <Name>ANISO_SYM_TEMPORAL_GAUGEACT</Name>
          <beta>1.5</beta>
          <u_s>0.73356648935927</u_s>
          <u_t>1.0</u_t>
          <ZeroEnergy>0.0</ZeroEnergy>
          <AnisoParam>
            <anisoP>true</anisoP>
            <t_dir>3</t_dir>
            <xi_0>4.3</xi_0>
          </AnisoParam>
          <GaugeBC>
            <Name>PERIODIC_GAUGEBC</Name>
          </GaugeBC>
        </GaugeAction>
        <NamedObject>
          <monomial_id>HMC::gauge_t</monomial_id>
        </NamedObject>
      </elem>
    </Monomials>
    <Hamiltonian>
      <monomial_ids>
        <elem>HMC::logdet_2flav</elem>
		<elem>HMC::has</elem>
		<elem>HMC::has_cancel_2flav</elem> 
        <elem>HMC::gauge_s</elem>
        <elem>HMC::gauge_t</elem>
      </monomial_ids>
    </Hamiltonian>
    <MDIntegrator>
      <tau0>0.5</tau0>
      <anisoP>true</anisoP>
      <t_dir>3</t_dir>
      <xi_mom>3.5</xi_mom>
      <Integrator>
        <Name>LCM_STS_FORCE_GRAD</Name>
        <n_steps>10</n_steps>
        <monomial_ids>
          <elem>HMC::logdet_2flav</elem>
		  <elem>HMC::has</elem>
          <elem>HMC::gauge_s</elem>
		  <elem>HMC::has_cancel_2flav</elem> 
          <elem>HMC::gauge_t</elem>
        </monomial_ids>
      </Integrator>
    </MDIntegrator>
  </HMCTrj>
</Params>
